<mvc:View controllerName="rfidwarehousesuiteui.controller.GoodsReceipt"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.ui.layout.form"
    displayBlock="true">
    
    <Page title="Goods Receipt Management" class="sapUiResponsiveContentPadding">
        <headerContent>
            <!-- <Button icon="sap-icon://synchronize" text="Sync SAP" press=".onSyncSAP" /> -->
            <Button icon="sap-icon://add" text="Quick Receive" type="Emphasized" press="._openWizardDialog" />
        </headerContent>

        <content>
            <!-- KPI Cards -->
            <HBox class="sapUiSmallMarginBottom kpiCardsContainer" justifyContent="SpaceBetween" wrap="Wrap">
                
                <VBox class="card" alignItems="Center" justifyContent="Center" width="16%">
                    <Title text="Total Pending" wrapping="true" level="H2" class="cardTitle"/>
                    <ObjectNumber number="234" state="Information" emphasized="true" class="cardNumber"/>
                    <ObjectStatus text="All documents" state="Information" class="cardStatus"/>
                </VBox>

                <VBox class="card" alignItems="Center" justifyContent="Center" width="16%">
                    <Title text="Purchase Orders" wrapping="true" level="H2" class="cardTitle"/>
                    <ObjectNumber number="166" state="None" emphasized="true" class="cardNumber"/>
                    <ObjectStatus text="Awaiting receipt" state="None" class="cardStatus"/>
                </VBox>

                <VBox class="card" alignItems="Center" justifyContent="Center" width="16%">
                    <Title text="ASN Documents" wrapping="true" level="H2" class="cardTitle"/>
                    <ObjectNumber number="45" state="None" emphasized="true" class="cardNumber"/>
                    <ObjectStatus text="In transit" state="None" class="cardStatus"/>
                </VBox>

                <VBox class="card" alignItems="Center" justifyContent="Center" width="16%">
                    <Title text="Returns" wrapping="true" level="H2" class="cardTitle"/>
                    <ObjectNumber number="33" state="None" emphasized="true" class="cardNumber"/>
                    <ObjectStatus text="To process" state="None" class="cardStatus"/>
                </VBox>

                <VBox class="card" alignItems="Center" justifyContent="Center" width="16%">
                    <Title text="Tagged Today" wrapping="true" level="H2" class="cardTitle"/>
                    <ObjectNumber number="1,245" state="Success" emphasized="true" class="cardNumber"/>
                    <ObjectStatus text="Items tagged" state="Success" class="cardStatus"/>
                </VBox>

                <VBox class="card" alignItems="Center" justifyContent="Center" width="16%">
                    <Title text="Pending Tags" wrapping="true" level="H2" class="cardTitle"/>
                    <ObjectNumber number="89" state="Warning" emphasized="true" class="cardNumber"/>
                    <ObjectStatus text="Items untagged" state="Warning" class="cardStatus"/>
                </VBox>
            </HBox>

            <!-- Document Type Segmented Button -->
            <HBox class="sapUiSmallMarginBottom" alignItems="Center">
                <Label text="DOCUMENT TYPE:" class="sapUiTinyMarginEnd sapUiSmallMarginTop" />
                <SegmentedButton id="docTypeSegment" selectedKey="PO">
                    <items>
                        <SegmentedButtonItem key="PO" icon="sap-icon://document" text="Purchase Orders" />
                        <SegmentedButtonItem key="ASN" icon="sap-icon://shipping-status" text="ASN" />
                        <SegmentedButtonItem key="RET" icon="sap-icon://undo" text="Returns" />
                    </items>
                </SegmentedButton>
            </HBox>

            <!-- Status Icon Tab Bar -->
            <IconTabBar id="statusTabBar" selectedKey="pending" class="sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter key="pending" text="Pending" count="166" />
                    <IconTabFilter key="inProgress" text="In Progress" count="12" />
                    <IconTabFilter key="completed" text="Completed" count="28" />
                </items>
                <content>
                    <!-- Goods Receipt Table -->
                    <Table id="idGoodsReceiptTable" 
                           inset="false" 
                           items="{GoodsReceiptModel>/Documents}"
                           mode="MultiSelect">
                        <headerToolbar>
                            <OverflowToolbar>
                                <content>
                                    <SearchField width="25%" placeholder="Search documents..." liveChange=".onSearch" />
                                    <ToolbarSpacer />
                                </content>
                            </OverflowToolbar>
                        </headerToolbar>

                        <columns>
                            <Column width="12em"><Text text="Document No." /></Column>
                            <Column minScreenWidth="Tablet" demandPopin="true"><Text text="Vendor" /></Column>
                            <Column minScreenWidth="Tablet" demandPopin="true"><Text text="Expected Date" /></Column>
                            <Column minScreenWidth="Desktop" demandPopin="true" hAlign="Center"><Text text="Total Items" /></Column>
                            <Column minScreenWidth="Desktop" demandPopin="true" hAlign="Center"><Text text="Tagged" /></Column>
                            <Column minScreenWidth="Desktop" demandPopin="true" hAlign="Center"><Text text="Pending" /></Column>
                            <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End"><Text text="Value" /></Column>
                            <Column hAlign="Center"><Text text="Actions" /></Column>
                        </columns>

                        <items>
                            <ColumnListItem>
                                <cells>
                                    <ObjectIdentifier title="{GoodsReceiptModel>documentNo}" />
                                    <Text text="{GoodsReceiptModel>vendor}" />
                                    <Text text="{GoodsReceiptModel>expectedDate}" />
                                    <ObjectNumber number="{GoodsReceiptModel>totalItems}" />
                                    <ObjectNumber number="{GoodsReceiptModel>tagged}" state="Success" />
                                    <ObjectNumber number="{GoodsReceiptModel>pending}" state="Warning" />
                                    <ObjectNumber number="{GoodsReceiptModel>value}" unit="USD" />
                                    <Button text="Receive &amp; Tag" type="Emphasized" press="._openWizardDialog" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
            </IconTabBar>
        </content>
    </Page>
</mvc:View>